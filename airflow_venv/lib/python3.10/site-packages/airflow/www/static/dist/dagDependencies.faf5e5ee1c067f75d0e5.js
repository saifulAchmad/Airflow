/*! For license information please see dagDependencies.faf5e5ee1c067f75d0e5.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Airflow=t():(e.Airflow=e.Airflow||{},e.Airflow.dagDependencies=t())}(self,(function(){return function(){const e="#000000",t="#2020A0",s="#0000FF",l="3px",n="5px",o=500;let r=dagNodes;const c=r,a=r.filter((e=>edges.some((t=>t.u===e.id||t.v===e.id))));let d=(new dagreD3.graphlib.Graph).setGraph({nodesep:15,ranksep:15,rankdir:arrange}).setDefaultEdgeLabel((()=>({lineInterpolate:"basis"})));const i=dagreD3.render(),u=d3.select("#graph-svg"),g=d3.select("#graph-svg g");function h(e,t,s){e.forEach((e=>{const l=d.node(e).elem;d3.select(l).selectAll("rect,circle").style("stroke",t).style("stroke-width",s)}))}let f=null;d3.select("#searchbox").on("keyup",(()=>{!function(e){let t=null;if(d3.selectAll("g.nodes g.node").filter((function(s){var r;return""===e?(d3.select("g.edgePaths").transition().duration(o).style("opacity",1),d3.select(this).transition().duration(o).style("opacity",1).selectAll("rect").style("stroke-width",l)):(d3.select("g.edgePaths").transition().duration(o).style("opacity",.2),r=e,s.indexOf(r)>-1?(t||(t=this),d3.select(this).transition().duration(o).style("opacity",1).selectAll("rect").style("stroke-width",n)):d3.select(this).transition().style("opacity",.2).duration(o).selectAll("rect").style("stroke-width",l)),null})),t){const e=d3.transform(d3.select(t).attr("transform")),s=u.node().getBoundingClientRect();e.translate=[s.width/2-e.translate[0],s.height/2-e.translate[1]],e.scale=[1,1],null!==f&&(f.translate(e.translate),f.scale(1),f.event(g))}}(document.getElementById("searchbox").value)}));const p=()=>{d=(new dagreD3.graphlib.Graph).setGraph({nodesep:15,ranksep:15,rankdir:arrange}).setDefaultEdgeLabel((()=>({lineInterpolate:"basis"}))),r.forEach((e=>{d.setNode(e.id,e.value)}));edges.filter((e=>2===r.filter((t=>t.id===e.u||t.id===e.v)).length)).forEach((e=>{d.setEdge(e.u,e.v,{curve:d3.curveBasis,arrowheadClass:"arrowhead"})})),g.call(i,d),function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;d3.selectAll("g.node").on("mouseover",(function(l){d3.select(this).selectAll("rect").style("stroke",e),h(d.predecessors(l),t,n),h(d.successors(l),s,n);const o=[l,...d.predecessors(l),...d.successors(l)];d3.selectAll("g.nodes g.node").filter((e=>!o.includes(e))).style("opacity",.2);const r=d.nodeEdges(l);d3.selectAll("g.edgePath")[0].filter((e=>!r.includes(e.__data__))).forEach((e=>{d3.select(e).style("opacity",.2)}))})),d3.selectAll("g.node").on("mouseout",(function(e){d3.select(this).selectAll("rect,circle").style("stroke",null),h(d.predecessors(e),null,l),h(d.successors(e),null,l),d3.selectAll("g.node").style("opacity",1),d3.selectAll("g.node rect").style("stroke-width",l),d3.selectAll("g.edgePath").style("opacity",1),o&&localStorage.removeItem(o)}))}(),function(){f=d3.behavior.zoom().on("zoom",(()=>{g.attr("transform","translate(".concat(d3.event.translate,")scale(").concat(d3.event.scale,")"))})),u.call(f);const e=d.graph().width,t=d.graph().height,s=u.node().getBoundingClientRect(),l=s.width-40,n=s.height-20,o=Math.min(Math.min(l/e,n/t),1.5);f.translate([l/2-e*o/2+20,20]),f.scale(o),f.event(g)}()};return document.getElementById("deps-filter").addEventListener("change",(function(){document.getElementById("searchbox").value="",r=this.checked?a:c,p()})),document.getElementById("deps-filter").checked&&(r=a),p(),{}}()}));